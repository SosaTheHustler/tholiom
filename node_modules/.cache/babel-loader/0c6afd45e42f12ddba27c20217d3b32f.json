{"ast":null,"code":"import _slicedToArray from\"C:/Users/admin/Desktop/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect,Fragment}from\"react\";import{Link}from\"react-router-dom\";import\"./nav.css\";import data from\"../../data\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function menuToggle(){var toggleMenu=document.querySelector(\".sidebar\");toggleMenu.classList.toggle(\"show-sidebar\");}var Navbar=function Navbar(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),username=_useState2[0],setUsername=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),isAuth=_useState4[0],setIsAuth=_useState4[1];var _useState5=useState(true),_useState6=_slicedToArray(_useState5,2),loading=_useState6[0],setLoading=_useState6[1];useEffect(function(){if(localStorage.getItem(\"token\")!==null){setIsAuth(true);}},[]);useEffect(function(){if(localStorage.getItem(\"token\")===null){}else{fetch(\"http://127.0.0.1:8000/api/v1/users/auth/user/\",{method:\"GET\",headers:{\"Content-Type\":\"application/json\",Authorization:\"Token \".concat(localStorage.getItem(\"token\"))}}).then(function(res){return res.json();}).then(function(data){setUsername(data.username);setLoading(false);});}},[]);return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"nav\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"nav-end\",children:[/*#__PURE__*/_jsx(\"img\",{className:\"burger\",src:\"/img/menu.png\",id:\"menu\",onClick:menuToggle}),/*#__PURE__*/_jsx(Link,{to:\"/\",children:/*#__PURE__*/_jsx(\"h2\",{children:\"HowTo\"})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"nav-end\",children:/*#__PURE__*/_jsx(Fragment,{children:/*#__PURE__*/_jsx(Link,{to:\"/createpost\",children:/*#__PURE__*/_jsx(\"h2\",{children:\"Create Post\"})})})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"spacer\"}),/*#__PURE__*/_jsx(\"ul\",{className:\"user-auth\",children:isAuth===true?/*#__PURE__*/_jsxs(Fragment,{children:[\" \",/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:\"/logout\",children:\"Logout\"})})]}):/*#__PURE__*/_jsxs(Fragment,{children:[\" \",/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:\"/login\",children:\"Login\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:\"/signup\",children:\"Signup\"})})]})})]});};export default Navbar;","map":{"version":3,"sources":["C:/Users/admin/Desktop/frontend/src/components/nav/navbar.js"],"names":["React","useState","useEffect","Fragment","Link","data","menuToggle","toggleMenu","document","querySelector","classList","toggle","Navbar","username","setUsername","isAuth","setIsAuth","loading","setLoading","localStorage","getItem","fetch","method","headers","Authorization","then","res","json"],"mappings":"kHAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,CAAqCC,QAArC,KAAqD,OAArD,CACA,OAASC,IAAT,KAAqB,kBAArB,CACA,MAAO,WAAP,CACA,MAAOC,CAAAA,IAAP,KAAiB,YAAjB,C,wFAEA,QAASC,CAAAA,UAAT,EAAsB,CACpB,GAAMC,CAAAA,UAAU,CAAGC,QAAQ,CAACC,aAAT,CAAuB,UAAvB,CAAnB,CACAF,UAAU,CAACG,SAAX,CAAqBC,MAArB,CAA4B,cAA5B,EACD,CAED,GAAMC,CAAAA,MAAM,CAAG,QAATA,CAAAA,MAAS,EAAM,CACnB,cAAgCX,QAAQ,CAAC,EAAD,CAAxC,wCAAOY,QAAP,eAAiBC,WAAjB,eACA,eAA4Bb,QAAQ,CAAC,KAAD,CAApC,yCAAOc,MAAP,eAAeC,SAAf,eACA,eAA8Bf,QAAQ,CAAC,IAAD,CAAtC,yCAAOgB,OAAP,eAAgBC,UAAhB,eAEAhB,SAAS,CAAC,UAAM,CACd,GAAIiB,YAAY,CAACC,OAAb,CAAqB,OAArB,IAAkC,IAAtC,CAA4C,CAC1CJ,SAAS,CAAC,IAAD,CAAT,CACD,CACF,CAJQ,CAIN,EAJM,CAAT,CAMAd,SAAS,CAAC,UAAM,CACd,GAAIiB,YAAY,CAACC,OAAb,CAAqB,OAArB,IAAkC,IAAtC,CAA4C,CAC3C,CADD,IACO,CACLC,KAAK,CAAC,+CAAD,CAAkD,CACrDC,MAAM,CAAE,KAD6C,CAErDC,OAAO,CAAE,CACP,eAAgB,kBADT,CAEPC,aAAa,iBAAWL,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAX,CAFN,CAF4C,CAAlD,CAAL,CAOGK,IAPH,CAOQ,SAACC,GAAD,QAASA,CAAAA,GAAG,CAACC,IAAJ,EAAT,EAPR,EAQGF,IARH,CAQQ,SAACpB,IAAD,CAAU,CACdS,WAAW,CAACT,IAAI,CAACQ,QAAN,CAAX,CACAK,UAAU,CAAC,KAAD,CAAV,CACD,CAXH,EAYD,CACF,CAhBQ,CAgBN,EAhBM,CAAT,CAkBA,mBACE,oCACE,oCACE,aAAK,SAAS,CAAC,SAAf,wBACE,YACE,SAAS,CAAC,QADZ,CAEE,GAAG,CAAC,eAFN,CAGE,EAAE,CAAC,MAHL,CAIE,OAAO,CAAEZ,UAJX,EADF,cAOE,KAAC,IAAD,EAAM,EAAE,CAAC,GAAT,uBACE,6BADF,EAPF,GADF,cAaE,YAAK,SAAS,CAAC,SAAf,uBACE,KAAC,QAAD,wBACE,KAAC,IAAD,EAAM,EAAE,CAAC,aAAT,uBACE,mCADF,EADF,EADF,EAbF,GADF,cAsBE,YAAK,SAAS,CAAC,QAAf,EAtBF,cAwBE,WAAI,SAAS,CAAC,WAAd,UACGS,MAAM,GAAK,IAAX,cACC,MAAC,QAAD,YACG,GADH,cAEE,iCACE,KAAC,IAAD,EAAM,EAAE,CAAC,SAAT,oBADF,EAFF,GADD,cAQC,MAAC,QAAD,YACG,GADH,cAEE,iCACE,KAAC,IAAD,EAAM,EAAE,CAAC,QAAT,mBADF,EAFF,cAKE,iCACE,KAAC,IAAD,EAAM,EAAE,CAAC,SAAT,oBADF,EALF,GATJ,EAxBF,GADF,CA+CD,CA5ED,CA8EA,cAAeH,CAAAA,MAAf","sourcesContent":["import React, { useState, useEffect, Fragment } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport \"./nav.css\";\nimport data from \"../../data\";\n\nfunction menuToggle() {\n  const toggleMenu = document.querySelector(\".sidebar\");\n  toggleMenu.classList.toggle(\"show-sidebar\");\n}\n\nconst Navbar = () => {\n  const [username, setUsername] = useState(\"\");\n  const [isAuth, setIsAuth] = useState(false);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    if (localStorage.getItem(\"token\") !== null) {\n      setIsAuth(true);\n    }\n  }, []);\n\n  useEffect(() => {\n    if (localStorage.getItem(\"token\") === null) {\n    } else {\n      fetch(\"http://127.0.0.1:8000/api/v1/users/auth/user/\", {\n        method: \"GET\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Authorization: `Token ${localStorage.getItem(\"token\")}`,\n        },\n      })\n        .then((res) => res.json())\n        .then((data) => {\n          setUsername(data.username);\n          setLoading(false);\n        });\n    }\n  }, []);\n\n  return (\n    <div>\n      <nav>\n        <div className=\"nav-end\">\n          <img\n            className=\"burger\"\n            src=\"/img/menu.png\"\n            id=\"menu\"\n            onClick={menuToggle}\n          ></img>\n          <Link to=\"/\">\n            <h2>HowTo</h2>\n          </Link>\n        </div>\n\n        <div className=\"nav-end\">\n          <Fragment>\n            <Link to=\"/createpost\">\n              <h2>Create Post</h2>\n            </Link>\n          </Fragment>\n        </div>\n      </nav>\n      <div className=\"spacer\"></div>\n\n      <ul className=\"user-auth\">\n        {isAuth === true ? (\n          <Fragment>\n            {\" \"}\n            <li>\n              <Link to=\"/logout\">Logout</Link>\n            </li>\n          </Fragment>\n        ) : (\n          <Fragment>\n            {\" \"}\n            <li>\n              <Link to=\"/login\">Login</Link>\n            </li>\n            <li>\n              <Link to=\"/signup\">Signup</Link>\n            </li>\n          </Fragment>\n        )}\n      </ul>\n    </div>\n  );\n};\n\nexport default Navbar;\n"]},"metadata":{},"sourceType":"module"}