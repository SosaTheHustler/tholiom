{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/admin/Desktop/frontend/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/admin/Desktop/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:/Users/admin/Desktop/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import axios from\"axios\";import{useState,useEffect}from\"react\";import{useHistory}from\"react-router\";import\"./createpost.css\";import data from\"../data\";import{Link}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var CreatePost=function CreatePost(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),filter=_useState2[0],setFilter=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),username=_useState4[0],setUsername=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),title=_useState6[0],setTitle=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),description=_useState8[0],setDescription=_useState8[1];var _useState9=useState(null),_useState10=_slicedToArray(_useState9,2),image=_useState10[0],setImage=_useState10[1];var _useState11=useState(\"\"),_useState12=_slicedToArray(_useState11,2),category=_useState12[0],setCategory=_useState12[1];var history=useHistory();var AddPost=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var formField;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:formField=new FormData();formField.append(\"title\",title);formField.append(\"description\",description);formField.append(\"category\",category);formField.append(\"image\",image);_context.next=7;return axios({method:\"post\",url:\"https://howtobackendapi.herokuapp.com/api/\",data:formField}).then(function(response){console.log(response.data);history.push(\"/\");});case 7:case\"end\":return _context.stop();}}},_callee);}));return function AddPost(){return _ref.apply(this,arguments);};}();useEffect(function(){if(localStorage.getItem(\"token\")===null){}else{fetch(\"http://127.0.0.1:8000/api/v1/users/auth/user/\",{method:\"GET\",headers:{\"Content-Type\":\"application/json\",Authorization:\"Token \".concat(localStorage.getItem(\"token\"))}}).then(function(res){return res.json();}).then(function(data){setUsername(data.username);});}},[]);var dataSearch=data.cardData.filter(function(item){return Object.keys(item).some(function(key){return item[key].toString().toLowerCase().includes(filter.toString().toLowerCase());});});return/*#__PURE__*/_jsxs(\"div\",{className:\"mainBody\",children:[/*#__PURE__*/_jsxs(\"div\",{class:\"sidebar\",children:[/*#__PURE__*/_jsx(\"div\",{class:\"sidebar__categories\",children:/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"span\",{children:\"Categories\"})})}),/*#__PURE__*/_jsx(\"hr\",{}),dataSearch.map(function(item,index){return/*#__PURE__*/_jsx(\"div\",{class:\"sidebar__categories \",children:/*#__PURE__*/_jsx(Link,{to:item.Categories,class:\"sidebar__category category-link\",children:item.Categories})});}),/*#__PURE__*/_jsx(\"hr\",{})]}),/*#__PURE__*/_jsx(\"div\",{className:\"post-container\",children:/*#__PURE__*/_jsxs(\"form\",{className:\"form\",children:[/*#__PURE__*/_jsx(\"input\",{id:\"user\",type:\"text\",style:{display:\"none\"}}),/*#__PURE__*/_jsx(\"input\",{className:\"createtitle\",type:\"text\",placeholder:\"Title\",value:title,name:\"title\",required:true,onChange:function onChange(e){return setTitle(e.target.value);}}),/*#__PURE__*/_jsx(\"textarea\",{className:\"createdesc\",type:\"text\",placeholder:\"Description...\",name:\"description\",value:description,onChange:function onChange(e){return setDescription(e.target.value);}}),/*#__PURE__*/_jsxs(\"div\",{className:\"select\",children:[/*#__PURE__*/_jsx(\"label\",{style:{color:\"white\",marginRight:\"20px\"},children:\"Category\"}),/*#__PURE__*/_jsxs(\"select\",{onChange:function onChange(e){return setCategory(e.target.value);},required:true,value:category,children:[/*#__PURE__*/_jsx(\"option\",{disabled:true,value:\"\",children:\"Choose A Category\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Cook\",children:\"Cook\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Coding\",children:\"Coding\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Workout\",children:\"Workout\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Martial Arts\",children:\"Martial Arts\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Voice Lessons\",children:\"Voice Lessons\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-bottom\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"upload\",type:\"file\",name:\"image\",required:true,src:image,onChange:function onChange(e){return setImage(e.target.files[0]);}}),/*#__PURE__*/_jsx(\"button\",{onClick:AddPost,className:\"createsubmit\",children:\"POST\"})]})]})})]});};export default CreatePost;","map":{"version":3,"sources":["C:/Users/admin/Desktop/frontend/src/pages/CreatePost.js"],"names":["axios","useState","useEffect","useHistory","data","Link","CreatePost","filter","setFilter","username","setUsername","title","setTitle","description","setDescription","image","setImage","category","setCategory","history","AddPost","formField","FormData","append","method","url","then","response","console","log","push","localStorage","getItem","fetch","headers","Authorization","res","json","dataSearch","cardData","item","Object","keys","some","key","toString","toLowerCase","includes","map","index","Categories","display","e","target","value","color","marginRight","files"],"mappings":"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","sourcesContent":["import axios from \"axios\";\nimport { useState, useEffect } from \"react\";\nimport { useHistory } from \"react-router\";\nimport \"./createpost.css\";\nimport data from \"../data\";\nimport { Link } from \"react-router-dom\";\n\nconst CreatePost = () => {\n  const [filter, setFilter] = useState(\"\");\n  const [username, setUsername] = useState(\"\");\n  const [title, setTitle] = useState(\"\");\n  const [description, setDescription] = useState(\"\");\n  const [image, setImage] = useState(null);\n  const [category, setCategory] = useState(\"\");\n\n  const history = useHistory();\n\n  const AddPost = async () => {\n    let formField = new FormData();\n\n    formField.append(\"title\", title);\n    formField.append(\"description\", description);\n    formField.append(\"category\", category);\n    formField.append(\"image\", image);\n\n    await axios({\n      method: \"post\",\n      url: \"https://howtobackendapi.herokuapp.com/api/\",\n      data: formField,\n    }).then((response) => {\n      console.log(response.data);\n      history.push(\"/\");\n    });\n  };\n  useEffect(() => {\n    if (localStorage.getItem(\"token\") === null) {\n    } else {\n      fetch(\"http://127.0.0.1:8000/api/v1/users/auth/user/\", {\n        method: \"GET\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Authorization: `Token ${localStorage.getItem(\"token\")}`,\n        },\n      })\n        .then((res) => res.json())\n        .then((data) => {\n          setUsername(data.username);\n        });\n    }\n  }, []);\n\n  let dataSearch = data.cardData.filter((item) => {\n    return Object.keys(item).some((key) =>\n      item[key]\n        .toString()\n        .toLowerCase()\n        .includes(filter.toString().toLowerCase())\n    );\n  });\n\n  return (\n    <div className=\"mainBody\">\n      <div class=\"sidebar\">\n        <div class=\"sidebar__categories\">\n          <div>\n            <span>Categories</span>\n          </div>\n        </div>\n        <hr />\n        {dataSearch.map((item, index) => (\n          <div class=\"sidebar__categories \">\n            <Link to={item.Categories} class=\"sidebar__category category-link\">\n              {item.Categories}\n            </Link>\n          </div>\n        ))}\n\n        <hr />\n      </div>\n      <div className=\"post-container\">\n        <form className=\"form\">\n          <input id=\"user\" type=\"text\" style={{ display: \"none\" }} />\n          <input\n            className=\"createtitle\"\n            type=\"text\"\n            placeholder=\"Title\"\n            value={title}\n            name=\"title\"\n            required\n            onChange={(e) => setTitle(e.target.value)}\n          />\n          <textarea\n            className=\"createdesc\"\n            type=\"text\"\n            placeholder=\"Description...\"\n            name=\"description\"\n            value={description}\n            onChange={(e) => setDescription(e.target.value)}\n          />\n          <div className=\"select\">\n            <label style={{ color: \"white\", marginRight: \"20px\" }}>\n              Category\n            </label>\n            <select\n              onChange={(e) => setCategory(e.target.value)}\n              required\n              value={category}\n            >\n              <option disabled value=\"\">\n                Choose A Category\n              </option>\n              <option value=\"Cook\">Cook</option>\n              <option value=\"Coding\">Coding</option>\n              <option value=\"Workout\">Workout</option>\n              <option value=\"Martial Arts\">Martial Arts</option>\n              <option value=\"Voice Lessons\">Voice Lessons</option>\n            </select>\n          </div>\n          <div className=\"form-bottom\">\n            <input\n              className=\"upload\"\n              type=\"file\"\n              name=\"image\"\n              required\n              src={image}\n              onChange={(e) => setImage(e.target.files[0])}\n            />\n            <button onClick={AddPost} className=\"createsubmit\">\n              POST\n            </button>\n          </div>\n        </form>\n      </div>\n    </div>\n  );\n};\n\nexport default CreatePost;\n"]},"metadata":{},"sourceType":"module"}